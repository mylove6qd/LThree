<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>three-text</title>
</head>
<style>
    body {
        margin: 0;
        overflow: hidden;
        padding: 0;
    }
    canvas {
        outline: 0;
    }
</style>

<body>

    <div id="webgl">

    </div>

</body>
<script type="module">
     import WebGLCompute from '../src/core/WebGLCompute.js';    
     
    let a = `#version 300 es
 
 precision highp float;
 precision highp int;

 in vec2 v_pos;
 out vec4 o_result;

//  vec4 int2rgba(const int i) {
//      vec4 v4;
//      v4.a = float(i >> 24 ) / 255.;
//      v4.b = float(i >> 16 ) / 255.;
//      v4.g = float(i >>  8 ) / 255.;
//      v4.r = float(i >>  0 ) / 255.;
//      return v4;
//  }
vec4 int2rgba(const int i) {
     vec4 v4;
     v4.a = 255./255.;
     v4.b = 255./255.;
     v4.g = 255./255.;
     v4.r = 255./255.;
     return v4;
 }

 void main() {
     // readPixels读取数值时次序与数组不一致, 
    //  int curX = int(float(CANVAS_SIZE) * v_pos.y);
    //  int curY = int(float(CANVAS_SIZE) * v_pos.x);

     o_result = int2rgba(123456);
 }

    `;

     let gl = new WebGLCompute(1);
     gl.createProgram(a);
     console.log(gl.compute())
     console.log(new Uint32Array(gl.compute()));
     console.log(new Float32Array(gl.compute()));
</script>


</html>